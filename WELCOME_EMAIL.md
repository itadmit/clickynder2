# מייל ברוכים הבאים - Welcome Email

## תיאור
כאשר משתמש חדש נרשם למערכת, הוא מקבל אוטומטית מייל ברוכים הבאים עם כל המידע הדרוש להתחלת עבודה.

## תוכן המייל

המייל כולל:

### 1️⃣ פרטי התחברות
- **אימייל**: כתובת האימייל שנרשמה
- **סיסמה**: הסיסמה שהמשתמש בחר (נשלחת רק במייל זה!)
- **כתובת דף התורים**: קישור ישיר לדף התורים של העסק (https://clickynder.co.il/[slug])

### 2️⃣ כפתור כניסה למערכת
כפתור בולט שמוביל ישירות לדשבורד

### 3️⃣ לינקים להורדת האפליקציה
- 🍎 **App Store** - עבור iPhone/iPad
- 🤖 **Google Play** - עבור Android

### 4️⃣ רשימת יכולות המערכת
- התאמה אישית של דף התורים
- הוספת שירותים ומחירים
- ניהול צוות העובדים
- הגדרת תזכורות אוטומטיות
- מעקב אחר נתונים וסטטיסטיקות

### 5️⃣ מידע על תמיכה
הזמנה ליצור קשר עם צוות התמיכה בכל שאלה

## עיצוב המייל

המייל מעוצב בצורה מקצועית עם:
- ✅ תמיכה ב-RTL (עברית)
- 🎨 Gradient background מושך
- 📱 Responsive design (מתאים לכל מסך)
- 🎯 CTA בולט
- 💎 עיצוב מודרני ונקי

## אבטחה 🔒

**חשוב מאוד:**
- ✅ הסיסמה נשלחת **רק במייל זה** בזמן הרישום
- ✅ אחרי הרישום, הסיסמה מוצפנת ב-bcrypt (12 rounds)
- ✅ אין שום דרך לשלוף את הסיסמה המקורית מהמערכת
- ⚠️ מומלץ למשתמשים לשמור את הסיסמה במנהל סיסמאות
- 🔐 המייל נשלח דרך SMTP מאובטח (TLS/SSL)

## טכנולוגיה

המייל נשלח דרך:
- 📧 `email-service.ts` - השירות לשליחת מיילים
- 🔧 SMTP configuration מהדאטהבייס או מ-ENV variables
- ⚠️ אם שליחת המייל נכשלת, הרישום עדיין יצליח (graceful degradation)

## קוד

הקוד נמצא ב:
```
src/app/api/auth/register/route.ts
```

שליחת המייל מתבצעת בשורות 651-812:
- בניית HTML template מפורט
- שליחה עם text fallback
- Logging למעקב
- Try-catch כדי לא להפיל את הרישום
- כולל סיסמה, אימייל, ולינקים לאפליקציות

## קישורי האפליקציה

⚠️ **חשוב**: יש לעדכן את קישורי החנויות למציאות:
- App Store: `https://apps.apple.com/app/clickynder`
- Google Play: `https://play.google.com/store/apps/details?id=com.clickynder`

כרגע הם placeholder - צריך להחליף ל-URL אמיתי כשהאפליקציות יעלו לחנויות.

## בדיקה

לבדיקת המייל:
1. צור משתמש חדש דרך `/auth/register`
2. בדוק את ה-console logs: `Welcome email sent to: [email]`
3. בדוק את תיבת הדואר של המשתמש החדש

## הגדרות SMTP

יש לוודא ש-SMTP מוגדר:
- בדאטהבייס דרך SystemSettings (מועדף)
- או ב-ENV variables כ-fallback:
  - `SMTP_HOST`
  - `SMTP_PORT`
  - `SMTP_USER`
  - `SMTP_PASSWORD`
  - `EMAIL_FROM_NAME`
  - `EMAIL_FROM`

## תצוגה לדוגמה

המייל כולל:
```
┌─────────────────────────────────┐
│   🎉 ברוכים הבאים!            │ ◄── Header gradient
├─────────────────────────────────┤
│ שלום [שם],                      │
│ תודה שהצטרפת...               │
│                                 │
│ ┌───────────────────────────┐  │
│ │ 🔐 פרטי ההתחברות שלך:    │  │ ◄── Login box
│ │ אימייל: [email]           │  │
│ │ סיסמה: [password]         │  │
│ │ 💡 שמור במקום מאובטח      │  │
│ │ כתובת: [url]              │  │
│ └───────────────────────────┘  │
│                                 │
│     [🚀 כניסה למערכת]         │ ◄── CTA button
│                                 │
│ ┌───────────────────────────┐  │
│ │  📱 הורד את האפליקציה    │  │ ◄── Apps section
│ │  [🍎 App Store] [🤖 Play] │  │
│ └───────────────────────────┘  │
│                                 │
│ ✨ מה אפשר לעשות עכשיו?       │ ◄── Features list
│ • התאמה אישית                 │
│ • הוספת שירותים               │
│ • ניהול צוות                   │
│ ...                             │
├─────────────────────────────────┤
│ Clickynder                      │ ◄── Footer
│ מערכת ניהול תורים              │
└─────────────────────────────────┘
```

